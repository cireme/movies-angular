<div class="page-header">
	<h1 class="text-primary">{{profile.firstname}} {{profile.lastname}} <small>as {{profile.username}}</small></h1>
</div>

<!-- TODO to directive -->
<!-- EDIT PROFILE -->
<form name="updateProfileForm" role="form" novalidate ng-show="editMode" ng-submit="updateUser(updateProfileForm)">

	<div class="form-group" ng-class="{'has-error': updateProfileForm.firstname.$invalid, 'has-success': !updateProfileForm.firstname.$invalid}">
		<label for="firstname">Firstname</label>
		<input type="text" class="form-control" id="firstname" placeholder="Fistname" name="firstname" ng-model="updateProfile.firstname" required>
		<span ng-show="updateProfileForm.firstname.$error.required" class="help-block"><p class="text-danger">required</p></span>
	</div>

	<div class="form-group" ng-class="{'has-error': updateProfileForm.lastname.$invalid, 'has-success': !updateProfileForm.lastname.$invalid}">
		<label for="lastname">Lastname</label>
		<input type="text" class="form-control" id="lastname" placeholder="Lastname" name="lastname" ng-model="updateProfile.lastname" required>
		<span ng-show="updateProfileForm.lastname.$error.required" class="help-block"><p class="text-danger">required</p></span>
	</div>

	<div class="form-group" ng-class="{'has-error': updateProfileForm.email.$invalid, 'has-success': !updateProfileForm.email.$invalid}">
		<label for="email">Email</label>
		<input type="email" class="form-control" id="email" placeholder="email" name="email" ng-model="updateProfile.email" required>
		<span ng-show="updateProfileForm.email.$error.required" class="help-block"><p class="text-danger">required</p></span>
		<span ng-show="updateProfileForm.email.$error.email" class="help-block"><p class="text-danger">invalid email</p></span>
	</div>

	<div class="form-group" ng-class="{'has-error': updateProfileForm.city.$invalid, 'has-success': !updateProfileForm.city.$invalid}">
		<label for="city">City</label>
		<input type="text" class="form-control" id="city" placeholder="city" name="city" ng-model="updateProfile.city" required>
		<span ng-show="updateProfileForm.city.$error.required" class="help-block"><p class="text-danger">required</p></span>
	</div>

	<div class="form-group">
		<label for="birthday">Birthday</label>
		<input type="date" class="form-control" id="birthday" placeholder="birthday" name="birthday" ng-model="updateProfile.birthday">
	</div>

	<button ng-click="toggleMode()" type="button" class="btn btn-info">
		<span class="glyphicon glyphicon-chevron-left"></span> back
	</button>
	<button ng-disabled="updateProfileForm.$invalid" type="submit" class="btn btn-primary">
		<span class="glyphicon glyphicon-chevron-down"></span> Save
	</button>
</form>

<!-- SHOW PROFILE -->
<div ng-hide="editMode">
	<address>
		<strong>{{profile.city}}</strong><br>
		{{profile.birthday | date:'fullDate'}}<br>
		<a href="mailto:{{profile.email}}">{{profile.email}}</a>
	</address>

	<p>
		<button ng-click="toggleMode()" class="btn btn-info">
			<span class="glyphicon glyphicon-pencil"></span> Edit profile
		</button>
	</p>

	<div ng-comments comments="profile.comments" user-id="profile.id" movie-id="null"></div>
</div>
